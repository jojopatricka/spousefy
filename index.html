<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPOUSETIFY | JoJo & Gaby</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://www.youtube.com/iframe_api"></script> 

    <style>
        /* --- KODE CSS SPUSETIFY V3 --- */
        body {
            font-family: 'Poppins', 'Helvetica Neue', Helvetica, Arial, sans-serif; 
            background-color: #121212; 
            color: #fff; 
            margin: 0;
            padding: 0;
        }
        
        /* Penyesuaian Global */
        .green-neon { color: #1DB954 !important; }
        .spotify-background { background-color: #1DB954; color: #000; }
        .section { padding: 20px; }
        .section-title { font-size: 1.5em; margin-bottom: 20px; font-weight: 800; text-align: left; max-width: 600px; margin-left: auto; margin-right: auto; }

        /* HEADER & NAVIGASI */
        .spotify-header {
            background-color: #000;
            padding: 20px 20px 0 20px; 
            position: sticky; 
            top: 0;
            z-index: 1000; 
            border-bottom: 1px solid #282828;
        }
        .header-top-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .brand-logo { display: flex; align-items: center; font-weight: 800; }
        .logo-icon { font-size: 1.5em; margin-right: 5px; }
        .logo-text { font-size: 1.1em; color: #fff; }
        .welcome-guest { font-size: 1em; font-weight: 700; margin: 0; }
        .spotify-nav-tabs { display: flex; overflow-x: auto; padding-bottom: 10px; -webkit-overflow-scrolling: touch; }
        .nav-tab { color: #a7a7a7; text-decoration: none; padding: 8px 15px; margin-right: 8px; border-radius: 50px; font-size: 0.9em; font-weight: 600; flex-shrink: 0; }
        .nav-tab.active, .nav-tab:hover { background-color: #282828; color: #fff; }

        /* HOME SECTION (VIDEO) */
        .trailer-section { max-width: 600px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; text-align: center; }
        
        /* CSS Rasio 9:16 untuk video Portrait */
        .hero-image { 
            width: 100%; 
            max-width: 300px; 
            aspect-ratio: 9 / 16; 
            overflow: hidden; 
            border-radius: 5px; 
            box-shadow: 0 4px 60px rgba(0, 0, 0, 0.5); 
            position: relative; 
        }
        .trailer-video { 
            width: 100%; 
            height: 100%; 
            position: absolute; 
            top: 0; 
            left: 0;
            object-fit: cover;
        }

        .docu-tag { color: #000; font-size: 0.8em; font-weight: 600; background-color: #1DB954; padding: 3px 6px; border-radius: 3px; margin-top: 20px; margin-bottom: 5px; display: inline-block; }
        .trailer-title { font-size: 2.2em; margin: 5px 0 10px 0; font-weight: 800; color: #fff; }
        .metadata { font-size: 0.9em; color: #b3b3b3; margin-bottom: 20px; }
        .metadata span { border: none; padding: 0; margin-right: 15px; }
        .coming-soon { color: #000; font-size: 1em; margin: 15px 0; padding: 8px 15px; border-radius: 50px; background-color: #1DB954; font-weight: 700; cursor: pointer; }
        .deskripsi { font-size: 1em; line-height: 1.5; color: #a7a7a7; text-align: left; max-width: 500px; margin: 20px auto 0 auto; }

        /* PHOTO GALLERY SECTION */
        .gallery-section { padding-top: 50px; }
        .poster-grid { 
            display: grid;
            grid-template-columns: repeat(3, 1fr); 
            gap: 15px;
            max-width: 600px;
            margin: 0 auto;
        }
        @media (max-width: 600px) {
            .poster-grid {
                grid-template-columns: repeat(2, 1fr); 
            }
        }
        .poster-item { position: relative; overflow: hidden; cursor: pointer; border-radius: 4px; }
        .image-placeholder {
            width: 100%;
            padding-bottom: 100%; 
            background-color: #000; 
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }
        .image-placeholder img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* TRACKLIST & LOCATION */
        .tracklist-section { max-width: 600px; margin: 0 auto; padding-top: 50px; }
        .location-container { display: flex; flex-direction: column; gap: 20px; margin-bottom: 40px; }
        
        /* Map Container untuk IFRAME */
        .map-container {
            height: 250px; 
            background-color: #282828; 
            border-radius: 4px; 
            overflow: hidden;
            width: 100%;
        }
        .map-container iframe {
             width: 100%; 
             height: 100%; 
             border: 0;
        }
        
        .location-details h3 { margin: 0 0 5px 0; font-size: 1.5em; }
        .address { color: #a7a7a7; margin: 0 0 15px 0; }
        .map-button { display: inline-block; background-color: #1DB954; color: #000; text-decoration: none; padding: 10px 20px; border-radius: 50px; font-weight: 700; transition: background-color 0.3s; }
        .timeline-subtitle { font-size: 1.2em; font-weight: 700; color: #a7a7a7; border-bottom: 1px solid #282828; padding-bottom: 10px; margin-bottom: 20px; }
        .track-item { display: flex; align-items: center; padding: 10px 0; border-bottom: 1px solid #282828; }
        .track-number { font-size: 2em; font-weight: 800; margin-right: 20px; flex-shrink: 0; }
        .track-info { flex-grow: 1; }
        .track-name { margin: 0; font-weight: 600; font-size: 1.1em; }
        .track-date, .track-time { display: block; font-size: 0.9em; color: #a7a7a7; }
        .track-status { font-size: 0.7em; font-weight: 700; padding: 3px 6px; border-radius: 3px; flex-shrink: 0; }
        .live { background-color: #1DB954; color: #000; }
        .rem { background-color: #535353; color: #fff; }
        
        /* ARTISTS SECTION */
        .artists-section { max-width: 600px; margin: 0 auto; padding-top: 50px; text-align: center; }
        .artist-duo-grid { display: flex; justify-content: space-around; gap: 20px; margin-top: 20px; }
        .artist-card { flex: 1; text-align: center; }
        /* Style agar foto Artist bisa dimasukkan via img tag */
        .artist-photo { width: 120px; height: 120px; border-radius: 50%; margin: 0 auto 10px auto; background-color: #282828; border: 3px solid #1DB954; overflow: hidden; position: relative; }
        .artist-photo img {
             width: 100%;
             height: 100%;
             object-fit: cover;
             position: absolute;
             top: 0;
             left: 0;
        }

        .artist-name { margin: 5px 0 0 0; font-size: 1.2em; font-weight: 700; }
        .artist-producer { margin: 0; font-size: 0.8em; color: #a7a7a7; }

        /* WISHES & RSVP */
        .wishes-section { max-width: 600px; margin: 0 auto; padding-top: 50px; padding-bottom: 50px; }
        
        /* Instruksi RSVP di Wishes */
        .wish-instruction {
            text-align: center; 
            color: #fff; 
            font-size: 1em; 
            font-weight: 600; 
            padding-bottom: 10px; 
            border-bottom: 1px solid #282828; 
            margin-bottom: 20px;
        }
        
        /* CSS Tambahan */
        .rsvp-section { max-width: 600px; margin: 0 auto; padding-top: 50px; text-align: center; }
        .rsvp-note { color: #a7a7a7; margin-bottom: 25px; }
        /* Style untuk tombol Hadir/Tidak Hadir */
        .rsvp-button { 
            display: block; 
            text-decoration: none; 
            padding: 15px; 
            border-radius: 50px; 
            font-weight: 700; 
            font-size: 1.1em; 
            margin-bottom: 15px; 
            width: 100%; 
            box-sizing: border-box; 
            border: none; /* Penting untuk <button> */
            cursor: pointer;
        }
        
        /* KODE GIFT SECTION */
        .gift-section { 
            max-width: 600px; 
            margin: 0 auto; 
            padding-top: 50px; 
            padding-bottom: 50px; 
            text-align: center;
            border-top: 1px solid #282828; 
        }
        .gift-note, .gift-note-bottom {
            color: #a7a7a7;
            margin-bottom: 25px;
            font-size: 0.9em;
        }
        .bank-details-container {
            background-color: #181818;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: left;
        }
        .bank-name {
            font-size: 1.2em;
            margin-top: 0;
            margin-bottom: 5px;
        }
        .account-number, .account-holder {
            margin: 5px 0;
            color: #ccc;
        }
        
        @media (min-width: 600px) {
            .location-container { flex-direction: row; text-align: left; }
            .map-container, .location-details { flex: 1; }
        }
    </style>
    
    <script async src="https://talk.hyvor.com/embed/embed.js" type="module"></script> 
</head>
<body>
    
    <audio id="background-music" loop>
        <source src="WALK THE MOON - Shut Up and Dance (Lyrics).mp3" type="audio/mp3">
        Browser Anda tidak mendukung elemen audio.
    </audio>

    <header class="spotify-header">
        <div class="header-top-row">
            <div class="brand-logo">
                <span class="logo-icon green-neon">üéµ</span>
                <span class="logo-text">SPOUSETIFY</span>
            </div>
            
            <h1 class="welcome-guest green-neon" id="guestNameDisplay">WELCOME, [Nama Tamu]</h1>
        </div>
        
        <nav class="spotify-nav-tabs">
            <a href="#home" class="nav-tab active">Home</a> 
            <a href="#photo" class="nav-tab">Photo</a>
            <a href="#location" class="nav-tab">Location</a>
            <a href="#artists" class="nav-tab">Artists</a>
            <a href="#rsvp" class="nav-tab">RSVP</a>
            <a href="#wishes" class="nav-tab">Wishes</a>
            <a href="#gift" class="nav-tab">Gift</a>
        </nav>
    </header>

    <div id="home" class="section trailer-section"> 
        <div class="hero-image">
            <iframe 
                id="mainVideo"
                src="https://www.youtube.com/embed/MoPrlM1BNG4?enablejsapi=1&controls=1&mute=0&loop=1&playlist=MoPrlM1BNG4" 
                title="Video Utama Prewedding JoJo & Gaby" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen 
                class="trailer-video">
            </iframe>
        </div>

        <div class="trailer-info">
            <p class="docu-tag">OUR LOVE ALBUM</p>
            <h2 class="trailer-title">JoJo & Gaby</h2>
            <div class="metadata">
                <span>ARTIST</span> 
                <span class="tahun-tayang">2026</span> 
                <span>1h 26m</span> 
                <span>POP DANGDUT</span>
            </div>
            
            <p class="coming-soon">‚ñ∂Ô∏è Tanggal Rilis: 1 JUNI 2026</p>
            
            <p class="deskripsi">
                Halo! Kami ingin informasikan bahwa kami akan segera menikah, dan kamu jadi 1 dari 200 orang yang kami undang untuk hadir di hari bahagia kami. Perlu diketahui, karena bersifat **Intimate Wedding** dan hanya mengundang orang terdekat, maka dari itu kami harapkan untuk tidak menyebarluaskan informasi detail terkait hari pernikahan kami (misal lokasi dan waktu acara). Kami tunggu kedatangannya di hari bahagia kami yaaa.
                <br><br>Dengan penuh cinta,<br> The Bride and the Groom
            </p>
        </div>
    </div>
    
    <div id="photo" class="section gallery-section">
        <h2 class="section-title">Our Mixtape</h2>

        <div class="poster-grid">
            <div class="poster-item">
                <div class="image-placeholder">
                    <img src="photo_meeting.jpg" alt="Foto Galeri 1: Pertemuan" class="trailer-image"> 
                </div>
            </div>

            <div class="poster-item">
                <div class="image-placeholder">
                    <img src="photo_engagement.jpg" alt="Foto Galeri 2: Tunangan" class="trailer-image">
                </div>
            </div>

            <div class="poster-item">
                <div class="image-placeholder">
                    <img src="photo_liburan_bali.jpg" alt="Foto Galeri 3: Liburan" class="trailer-image">
                </div>
            </div>
            
            <div class="poster-item">
                <div class="image-placeholder">
                    <img src="photo_family.jpg" alt="Foto Galeri 4: Keluarga" class="trailer-image"> 
                </div>
            </div>

            <div class="poster-item">
                <div class="image-placeholder">
                    <img src="photo_bestman_maid.jpg" alt="Foto Galeri 5: Sahabat" class="trailer-image">
                </div>
            </div>

            <div class="poster-item">
                <div class="image-placeholder">
                    <img src="photo_prewed_candid.jpg" alt="Foto Galeri 6: Prewed Candid" class="trailer-image">
                </div>
            </div>
            
        </div>
    </div>

    <div id="location" class="section tracklist-section">
        <h2 class="section-title">The Tracklist</h2>

        <div class="location-container">
            <div class="map-container">
                <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4719.786684563528!2d115.16950107579476!3d-8.664603188180893!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd2473ac612e5a3%3A0x3c5de7be509f74d3!2sGeo%20Open%20Space!5e1!3m2!1sen!2sid!4v1763791483187!5m2!1sen!2sid" 
                    width="100%" 
                    height="100%" 
                    style="border:0;" 
                    allowfullscreen="" 
                    loading="lazy" 
                    referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>
            <div class="location-details">
                <h3 class="green-neon">Geo Space</h3>
                <p class="address">Jl. Raya Kedampang, Kerobokan Kelod, Kec. Kuta Utara, Kabupaten Badung, Bali 80361</p>
                <a href="https://maps.app.goo.gl/e5kEET4pd8KhTMNE6" target="_blank" class="map-button">
                    Show Location on Maps
                </a>
            </div>
        </div>

        <div class="timeline-tracks">
            <h4 class="timeline-subtitle">Our Official Setlist</h4>

            <div class="track-item">
                <span class="track-number green-neon">01</span>
                <div class="track-info">
                    <p class="track-name">Akad Nikah (The Vows)</p>
                    <span class="track-date">1 JUNI 2026</span>
                    <span class="track-time">16:00 - 18:00 WITA</span>
                </div>
                <span class="track-status live">LIVE</span>
            </div>

            <div class="track-item">
                <span class="track-number green-neon">02</span>
                <div class="track-info">
                    <p class="track-name">Resepsi (The Celebration)</p>
                    <span class="track-date">1 JUNI 2026</span>
                    <span class="track-time">19:00 - 21:30 WITA</span>
                </div>
                <span class="track-status rem">REM</span>
            </div>
        </div>
    </div>

    <div id="artists" class="section artists-section">
        <h2 class="section-title">The Main Artists</h2>

        <div class="artist-duo-grid">
            <div class="artist-card">
                <div class="artist-photo male">
                    <img src="artist_jojo.jpg" alt="Foto JoJo (Groom)">
                </div>
                <h3 class="artist-name">JoJo</h3>
                <p class="artist-producer">Putra kelima dari Bapak Isaac dan Ibu Wiwi</p>
            </div>

            <div class="artist-card">
                <div class="artist-photo female">
                    <img src="artist_gaby.jpg" alt="Foto Gaby (Bride)">
                </div>
                <h3 class="artist-name">Gaby</h3>
                <p class="artist-producer">Putri pertama dari Bapak Daniel dan Ibu Endah</p>
            </div>
        </div>
    </div>
    
    <div id="rsvp" class="section rsvp-section">
        <h2 class="section-title">Konfirmasi Kehadiran</h2>
        <p class="rsvp-note">Pilih status kehadiran Anda untuk acara resepsi kami. Data ini akan otomatis tercatat.</p>

        <form 
            action="https://formspree.io/f/mpwnqbva" 
            method="POST" 
            target="_blank" 
            class="rsvp-form-new">
            
            <input type="hidden" name="_subject" value="RSVP JoJo & Gaby: Konfirmasi Kehadiran!" />
            <input type="hidden" name="guest_name" id="hiddenGuestName" value="Guest" />
            
            <button type="submit" name="status" value="Hadir" 
                class="rsvp-button spotify-background" style="margin-bottom: 20px;">
                Saya Hadir
            </button>
            
            <button type="submit" name="status" value="Tidak Hadir" 
                class="rsvp-button" style="background-color: #535353; color: #fff;">
                Saya Tidak Bisa Hadir
            </button>
        </form>
        
        <h2 class="section-title" style="margin-top: 50px;">Anda sebel?</h2>
        <p class="rsvp-note">Jika sebel karena melihat undangan ini, bisa maki-maki secara langsung.</p>
        <a href="https://wa.me/6282111818344?text=Hello%20JoJo%20%26%20Gaby%2C%20saya%20[Nama%20Tamu]%20ingin%20memaki%20mengenai%20undangan." 
           target="_blank" class="rsvp-button spotify-background">
            Tombol Sebal
        </a>

    </div>

    <div id="wishes" class="section wishes-section">
        <h2 class="section-title">Kirim Ucapan / Doa Terbaik</h2>
        
        <p class="wish-instruction">
            Anda dapat mengirimkan ucapan atau doa terbaik Anda melalui kolom komentar di bawah ini.
        </p>
        
        <hyvor-talk-comments 
            website-id="14554" 
            page-id="" 
        ></hyvor-talk-comments>
        <p class="wish-note" style="text-align: center; color: #a7a7a7; font-size: 0.8em; padding-top: 10px;">
            Ucapan dari semua tamu akan muncul secara *live*.
        </p>
    </div>

    <div id="gift" class="section gift-section">
        <h2 class="section-title">Wedding Gift </h2>
        <p class="gift-note">
            Kehadiran dan doa restu Anda adalah kado terindah bagi kami. Namun, jika Anda ingin memberikan hadiah, kami dengan senang hati menerimanya dalam bentuk digital.
        </p>

        <div class="bank-details-container">
            <h3 class="bank-name green-neon">Bank BCA</h3>
            <p class="account-number">No. Rekening: 7255356186</p>
            <p class="account-holder">Atas Nama: Gabrielle</p>
        </div>
        
        <p class="gift-note-bottom">Terima kasih atas kebaikan Anda.</p>
    </div>

    <script>
        // --- FUNGSI KONTROL MUSIK OTOMATIS OLEH YOUTUBE API ---
        let player; 
        const backgroundMusic = document.getElementById('background-music');

        // Fungsi yang dipanggil saat YouTube Iframe API siap
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('mainVideo', {
                events: {
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        // Fungsi untuk mendeteksi status video (Play/Pause/End)
        function onPlayerStateChange(event) {
            // YT.PlayerState.PLAYING (1) = Video sedang diputar
            if (event.data === YT.PlayerState.PLAYING) {
                // Hentikan musik latar jika video mulai diputar
                if (!backgroundMusic.paused) {
                    backgroundMusic.pause();
                }
            } 
            // YT.PlayerState.ENDED (0) atau YT.PlayerState.PAUSED (2) = Video selesai/dihentikan
            else if (event.data === YT.PlayerState.ENDED || event.data === YT.PlayerState.PAUSED) {
                // Lanjutkan musik latar jika video dihentikan atau selesai
                if (window.hasPlayed) { 
                    backgroundMusic.play().catch(error => {
                        console.error("Autoplay diblokir:", error);
                    });
                }
            }
        }
        // --- AKHIR FUNGSI KONTROL MUSIK OTOMATIS ---

        // --- FUNGSI NAMA TAMU & AUTOPLAY MUSIK ---
        document.addEventListener('DOMContentLoaded', function() {
            function getQueryParam(param) {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get(param);
            }

            const guestName = getQueryParam('to');
            const musicCommand = getQueryParam('play_music');
            const displayElement = document.getElementById('guestNameDisplay');
            
            window.hasPlayed = false; // Flag untuk menandai apakah musik sudah pernah diputar
            
            const defaultGreeting = 'WELCOME, KESAYANGAN';
            
            // 1. Memproses Nama Tamu di Header
            if (guestName && displayElement) {
                const cleanName = decodeURIComponent(guestName.replace(/\+/g, ' '));
                displayElement.textContent = `WELCOME, ${cleanName.toUpperCase()}`;
            } else if (displayElement) {
                displayElement.textContent = defaultGreeting;
            }

            // 2. Memasukkan Nama Tamu ke Hidden Input Form
            const hiddenGuestInput = document.getElementById('hiddenGuestName');
            if (hiddenGuestInput) {
                if (guestName) {
                    const cleanNameForDB = decodeURIComponent(guestName.replace(/\+/g, ' '));
                    hiddenGuestInput.value = cleanNameForDB;
                } else {
                    hiddenGuestInput.value = 'Unknown Guest'; 
                }
            }

            // 3. Memproses Autoplay Musik (Dipanggil saat link menggunakan parameter ?play_music=true)
            if (musicCommand === 'true') {
                backgroundMusic.volume = 0.5;
                backgroundMusic.play().then(() => {
                    window.hasPlayed = true; 
                }).catch(error => {
                    console.error("Autoplay diblokir:", error);
                });
            } else {
                // FALLBACK: Memutar musik saat klik pertama (untuk mengatasi blokir autoplay browser)
                document.addEventListener('click', function() {
                    if (!window.hasPlayed) {
                        backgroundMusic.volume = 0.5;
                        backgroundMusic.play().then(() => {
                            window.hasPlayed = true;
                        }).catch(error => {});
                    }
                }, { once: true });
            }
        });
    </script>
</body>
</html>